(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t){e.exports={"v86state.bin":"https://storage.googleapis.com/hypertalk-static/v86state.bin","windows98.img":"https://storage.googleapis.com/hypertalk-static/windows98.img"}},44:function(e,t,a){e.exports=a.p+"static/media/logo.186ee9ec.svg"},46:function(e,t,a){e.exports=a.p+"static/media/seabios.b72845a6.bin"},47:function(e,t,a){e.exports=a.p+"static/media/vgabios.1747aff3.bin"},49:function(e,t,a){e.exports=a(93)},79:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),i=a.n(o),c=a(5),s=a.n(c),l=a(8),u=a(13),d=a(14),h=a(17),m=a(15),g=a(16),p=a(1),b=a(40),y=a.n(b),v=a(4),f=a(24),w=a(41),S=a.n(w),O=a(42),E=a.n(O),C=a(48),j=function(e){return function(t){var a=new String("".concat(t).concat(e));return a.raw=t,a}},k=j("em"),T=j("px"),x={Create:function(e){var t={};for(var a in e)t[a]=Object(C.a)(e[a]);return t},vars:{colors:{black:"#1c1d20",white:"#ffffff",orange:"#ffea8d",grey0:"#e1e6e9",grey1:"#a5abb4",grey2:"#3e4043",blue:"#4a9cdd"},pageWidth:T(1080),spacing:{xs:T(4),small:T(8),regular:T(16),medium:T(24),large:T(38),xl:T(56)},fontSize:{small:T(12),regular:T(15),medium:T(18),large:T(22),xl:T(28),xxl:T(36)},lineHeights:{regular:k(1.5),small:k(1.25)}}},_=new S.a(Object(v.a)({},E.a,{baseFontSize:x.vars.fontSize.regular,baseLineHeight:x.vars.lineHeights.regular,blockMarginBottom:.5,scaleRatio:1.5})),R=x.Create({container:{backgroundColor:x.vars.colors.grey1,maxWidth:x.vars.pageWidth,margin:"0 auto",padding:x.vars.spacing.large}}),P=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.TypographyStyle,{typography:_}),r.a.createElement(f.GoogleFont,{typography:_}),r.a.createElement("div",{style:R.container},t))},A={display:"flex"},L={textAlign:"left",padding:"0 ".concat(x.vars.spacing.regular.raw/2,"px")},N={flex:1},H={textAlign:"left",paddingLeft:0},W={textAlign:"right",paddingRight:0},U={paddingLeft:0,paddingRight:0,textAlign:"center"},M=function(e){var t=e.children,a=e.first,n=e.last,o=e.equalWidth,i=e.centered,c=e.style,s=x.Create(Object(v.a)({},L,a?H:{},n?W:{},a&&n||i?U:{},a&&n?U:{},o?N:{},c||{}));return r.a.createElement("div",{style:s},t)};M.defaultProps={centered:!1,equalWidth:!0};var I=function(e){var t=e.children,a=e.alignColumns,n=r.a.Children.toArray(t).filter(function(e){return e}),o=n.length,i=x.Create(Object(v.a)({},A,{alignItems:a}));return r.a.createElement("div",{style:i},n.map(function(e,t){return r.a.cloneElement(e,{first:0===t,last:t===o-1})}))},V=x.Create({button:{border:"none",textAlign:"center",backgroundColor:x.vars.colors.grey0,cursor:"pointer",padding:"".concat(x.vars.spacing.xs," ").concat(x.vars.spacing.small),color:x.vars.colors.black},menuContainer:{marginTop:x.vars.spacing.small,textAlign:"right"}}),B=function(e){var t=e.style,a=e.children,n=Object(v.a)({},V.button,t);return r.a.createElement("button",Object.assign({},e,{style:n}),a)},D=function(e){var t=e.style,a=e.children,n=r.a.Children.toArray(a).filter(function(e){return e}),o=Object(v.a)({},V.menuContainer,t);return r.a.createElement("div",Object.assign({},e,{style:o}),n.map(function(e,t){return r.a.cloneElement(e,{style:{marginLeft:x.vars.spacing.regular}})}))},z=a(44),J=a.n(z),F=x.Create({img:{height:"80px",width:"auto"}}),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement("div",{style:F.root},r.a.createElement(I,null,r.a.createElement(M,null,r.a.createElement("img",{style:F.img,src:J.a,alt:"logo"})),r.a.createElement(M,{style:{flex:3}},r.a.createElement(D,null,e.map(function(e,t){return r.a.createElement(B,Object.assign({key:t},e))})))))}}]),t}(n.Component);G.defaultProps={items:[]};var q=G,K=a(45),X=a.n(K),Z=x.Create({root:{width:"100%",font:"".concat(x.vars.spacing.regular," monospace"),color:x.vars.colors.black},disabled:{backgroundColor:x.vars.colors.orange}}),$=function(e){var t=e.style,a=e.children,n=e.disabled,o=Object(v.a)({},Z.root,t,n?Z.disabled:{});return r.a.createElement(X.a,Object.assign({},e,{style:o}),a)};$.defaultProps={disabled:!1};var Q=$;function Y(e){return new Promise(function(t,a){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.addEventListener("load",function(){200===n.status?t(n.response):a()},!1),n.send()})}function ee(e){return new Promise(function(t){return setTimeout(t,e)})}var te=!1;function ae(e){return e[Math.floor(Math.random()*e.length)]}function ne(){var e=ae(["Moon unit","Ravioli","Anthoni","Mookie","Diesel","Ulysses","Jose","\u200eLasernut","\u200eMartha","\u200eBig boy","\u200eBaby girl","\u200eMcNugget","Frederico","Sloan","Miller","Gordon","Lafayette","Jethro","Naomi","\u200eTowelette","Demitri","\u200eLopez","\u200eSullivan","\u200eSatchmo","Armando","Tiberius","Phoebe","Titan","Janus","Callisto","Puck","Belinda","Bianca","Dugan","Kiplet","Gomez","Kermit","Cedric","Solomon","\u200eEustace","\u200eZero","Flash","Tonto","Lazarus","Forbes","Skippy","Ripto","Sierra","Gilligan","Seymour","Mordechai","Vincent","Stacia","Poot","Janet","Penelope"]),t=window.localStorage.name?window.localStorage.name:window.prompt("whats ur name?",e);return window.localStorage.name=t,t}function re(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ae(["[:nb]","[:nh]","[:nk]","[:nf]","[:nd]","[:dv ap 10]","[:dv ap 200]","[:dv hs 1]","[:dv pr 1]","[:dv gv 100]","[:nb][:dv pr 1][:dv br 200][:dv gv 40][:dv hs 50][:rate 30]"]),a=window.localStorage.voice?window.localStorage.voice:e?t:window.prompt("whats ur voice?",t);return window.localStorage.voice=a,a}var oe=a(46),ie=a.n(oe),ce=a(47),se=a.n(ce),le=a(25),ue=a.n(le),de=1048576,he=ue.a["windows98.img"],me=ue.a["v86state.bin"],ge="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_LOCAL_ASSETS;ge&&(he="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_CHATSERVER_ENDPOINT,"/static/").concat("windows98.img"),me="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_CHATSERVER_ENDPOINT,"/static/").concat("v86state.bin"));var pe=function(e){var t=e.onSerialOutput;return new Promise(function(e,a){var n=[Y(me)];ge&&n.push(Y(he)),Promise.all(n).then(function(a){var n=a[0],r=a[1],o=ge?{buffer:r}:{url:he,async:!0,size:300*de},i=new window.V86Starter({screen_container:te?document.getElementById("screen_container"):null,bios:{url:ie.a},vga_bios:{url:se.a},hda:o,autostart:!0,memory_size:128*de,vga_memory_size:8*de,disable_mouse:!0,disable_keyboard:!0});window.emulator=i,i.add_listener("emulator-ready",Object(l.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.restore_state(n),e(i);case 2:case"end":return t.stop()}},t,this)}))),i.add_listener("serial0-output-char",function(e){t(e)})})})},be=y()(Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_CHATSERVER_ENDPOINT,{transports:["polling"]}),ye=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],ae(["How are you gentlemen?","harder daddy","happy birthday","Sure why not","Listen","Lets circle back on that","Who cares","Are you f\u2019realz","Welcome to my world","I have thoughts on that","Uh","Last time for everything","Need you to get real aware","there's no there there","Show me the data","bulbous","Who fuks"])}(),ve=x.Create({screen:{whiteSpace:"pre",font:"".concat(x.vars.spacing.medium," monospace"),lineHeight:x.vars.spacing.medium},chatHistory:{},chatHistoryItem:{marginTop:x.vars.spacing.medium}}),fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={whatToSay:ye,busy:!0,serialOutput:"",name:ne(),voice:re(!0),chatHistory:[]},a.broadcast=a.broadcast.bind(Object(p.a)(Object(p.a)(a))),a.utterance=a.utterance.bind(Object(p.a)(Object(p.a)(a))),a.onResetName=a.onResetName.bind(Object(p.a)(Object(p.a)(a))),a.onResetVoice=a.onResetVoice.bind(Object(p.a)(Object(p.a)(a))),a.onChangeWhatToSay=a.onChangeWhatToSay.bind(Object(p.a)(Object(p.a)(a))),a.onMaybeSubmitWhatToSay=a.onMaybeSubmitWhatToSay.bind(Object(p.a)(Object(p.a)(a))),a.onUpdateChatHistory=a.onUpdateChatHistory.bind(Object(p.a)(Object(p.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"onUpdateChatHistory",value:function(e,t){var a=this.state.chatHistory;a=[{name:e,whatToSay:t}].concat(a),this.setState({chatHistory:a})}},{key:"broadcast",value:function(){var e=this.state,t=e.voice,a=e.name,n=e.whatToSay;this.utterance(t,n,!0),this.onUpdateChatHistory(a,n),be.emit("chat message",JSON.stringify({name:a,whatToSay:n,voice:t}))}},{key:"utterance",value:function(){var e=Object(l.a)(s.a.mark(function e(t,a,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.busy){e.next=14;break}this.setState({busy:!0}),n&&this.setState({serialOutput:"",whatToSay:"say something..."}),r="[:phoneme on]".concat(t).concat(a,"213p"),this.emulator.serial0_send(r);case 5:return e.next=8,ee(1e3);case 8:if(-1===this.state.serialOutput.indexOf("ready")){e.next=12;break}return this.setState({busy:!1}),e.abrupt("return");case 12:e.next=5;break;case 14:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe({onSerialOutput:function(e){var a=t.state.serialOutput;a+=e,t.setState({serialOutput:a})}});case 2:return this.emulator=e.sent,e.next=5,ee(1e3);case 5:return this.setState({busy:!1}),e.next=8,this.broadcast(ye,!0);case 8:be.on("chat message",function(e){var a=JSON.parse(e),n=a.name,r=a.whatToSay,o=a.voice;t.onUpdateChatHistory(n,r),t.utterance(o,r,!1)});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onResetName",value:function(){delete window.localStorage.name,this.setState({name:ne()})}},{key:"onResetVoice",value:function(){delete window.localStorage.voice,this.setState({voice:re()})}},{key:"onChangeWhatToSay",value:function(e){this.setState({whatToSay:e.target.value})}},{key:"onMaybeSubmitWhatToSay",value:function(e){"Enter"===e.key&&this.broadcast(this.state.whatToSay)}},{key:"render",value:function(){var e=this.state,t=e.busy,a=e.whatToSay,n=e.name,o=e.voice,i=e.chatHistory;return r.a.createElement(P,null,r.a.createElement(q,{items:[{children:"name: ".concat(n),onClick:this.onResetName},{children:"voice: ".concat(o),onClick:this.onResetVoice}]}),!t&&r.a.createElement(Q,{value:a,disabled:t,onChange:this.onChangeWhatToSay,onKeyPress:this.onMaybeSubmitWhatToSay}),r.a.createElement("pre",null,t?"Please wait, loading...":"Ready!"),r.a.createElement("div",{style:ve.chatHistory},i.map(function(e){var t=e.name,a=e.whatToSay,n="".concat(t,": ").concat(a);return r.a.createElement(Q,{style:ve.chatHistoryItem,key:n,value:n,disabled:!0})})),te&&r.a.createElement("div",null,r.a.createElement("div",{id:"screen_container"},r.a.createElement("div",{style:ve.screen}),r.a.createElement("canvas",{style:{display:"none"}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,2,1]]]);
//# sourceMappingURL=main.7d698eb0.chunk.js.map